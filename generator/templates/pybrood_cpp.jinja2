#include "include/common.h"
{% for f in h_files %}
#include "include/{{ f }}"
{%- endfor %}





PYBIND11_PLUGIN(pybrood) {
    py::module m("pybrood", "BWAPI module bridge");
    {% for x in ('', 'WALK', 'TILE') %}
    m.attr("{{ x }}POSITION_SCALE") = py::cast(BWAPI::{{ x }}POSITION_SCALE);
    {%- endfor %}
    {% for x in pureenums %}
    {{ x|indent(4) }}
    {% endfor %}
    {% for x in classes %}
    {{ x|indent(4) }}
    {% endfor %}
    auto enum_instances = py::dict();
    m.attr("enum_instances") = enum_instances;
    {% for x in objenums %}
    {{ x|indent(4) }}
    {% endfor %}
    // m.attr("client_instance") = py::cast(BWAPI::BWAPIClient, py::return_value_policy::reference);
    // m.attr("game_instance") = py::cast(BWAPI::BroodwarPtr, py::return_value_policy::reference);
    return m.ptr();
}
